var wef_SourceBookEditor_html = "<div class=\'wef_sourceBookEditor_dialog\'>\r\n" +
"	<div class=\'wef_tabs\'>\r\n" +
"		<ul>\r\n" +
"			<li><a href=\'#wef_sourceBookEditor_tab_general\' class=\'wef_editor_tab_anchor wef_i18n_text\'>groupGeneral</a></li>\r\n" +
"			<li><a href=\'#wef_sourceBookEditor_tab_codes\' class=\'wef_editor_tab_anchor wef_i18n_label\'>Q5962346</a></li>\r\n" +
"		</ul>\r\n" +
"		<div id=\'wef_sourceBookEditor_tab_general\' class=\'wef_editor_tab\'>\r\n" +
"			<div class=\"wef_labels_editor\"></div>\r\n" +
"			<fieldset class=\'wef_fieldset\'>\r\n" +
"				<table class=\'wef_table\'>\r\n" +
"					<!-- instance of -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P31\' data-datatype=\'wikibase-item\' />\r\n" +
"				</table>\r\n" +
"				<table class=\'wef_table\'>\r\n" +
"					<!-- title -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P1476\' data-datatype=\'monolingualtext\' />\r\n" +
"					<!-- subtitle -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P1680\' data-datatype=\'monolingualtext\' />\r\n" +
"					<!--  ISO 4 abbreviation -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P1160\' data-datatype=\'string\' />\r\n" +
"					<!-- language -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P407\' data-datatype=\'wikibase-item\' />\r\n" +
"					<!-- date of foundation or creation -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P571\' data-datatype=\'time\' />\r\n" +
"					<!--  edition number  -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P393\' data-datatype=\'string\' />\r\n" +
"				</table>\r\n" +
"			</fieldset>\r\n" +
"			<fieldset class=\'wef_fieldset\'>\r\n" +
"				<table class=\'wef_table\'>\r\n" +
"					<!-- author -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P50\' data-datatype=\'wikibase-item\'>\r\n" +
"						<!-- stated as -->\r\n" +
"						<tr class=\'wef_claim_editors\' data-code=\'P1932\' data-datatype=\'string\' />\r\n" +
"					</tbody>\r\n" +
"					<!-- contributor  -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P767\' data-datatype=\'wikibase-item\'>\r\n" +
"						<!-- stated as -->\r\n" +
"						<tr class=\'wef_claim_editors\' data-code=\'P1932\' data-datatype=\'string\' />\r\n" +
"					</tbody>\r\n" +
"					<!-- editor -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P98\' data-datatype=\'wikibase-item\'>\r\n" +
"						<!-- stated as -->\r\n" +
"						<tr class=\'wef_claim_editors\' data-code=\'P1932\' data-datatype=\'string\' />\r\n" +
"					</tbody>\r\n" +
"					<!-- illustrator -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P110\' data-datatype=\'wikibase-item\'>\r\n" +
"						<!-- stated as -->\r\n" +
"						<tr class=\'wef_claim_editors\' data-code=\'P1932\' data-datatype=\'string\' />\r\n" +
"					</tbody>\r\n" +
"					<!-- translator -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P655\' data-datatype=\'wikibase-item\'>\r\n" +
"						<!-- stated as -->\r\n" +
"						<tr class=\'wef_claim_editors\' data-code=\'P1932\' data-datatype=\'string\' />\r\n" +
"					</tbody>\r\n" +
"				</table>\r\n" +
"			</fieldset>\r\n" +
"			<fieldset class=\'wef_fieldset\'>\r\n" +
"				<table class=\'wef_table\'>\r\n" +
"					<!-- place of publication -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P291\' data-datatype=\'wikibase-item\'>\r\n" +
"						<!-- stated as -->\r\n" +
"						<tr class=\'wef_claim_editors\' data-code=\'P1932\' data-datatype=\'string\' />\r\n" +
"					</tbody>\r\n" +
"					<!-- publisher -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P123\' data-datatype=\'wikibase-item\'>\r\n" +
"						<!-- stated as -->\r\n" +
"						<tr class=\'wef_claim_editors\' data-code=\'P1932\' data-datatype=\'string\' />\r\n" +
"					</tbody>\r\n" +
"					<!-- date of publication -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P577\' data-datatype=\'time\' />\r\n" +
"					<!-- printed by -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P872\' data-datatype=\'wikibase-item\'>\r\n" +
"						<!-- stated as -->\r\n" +
"						<tr class=\'wef_claim_editors\' data-code=\'P1932\' data-datatype=\'string\' />\r\n" +
"					</tbody>\r\n" +
"				</table>\r\n" +
"			</fieldset>\r\n" +
"			<fieldset class=\'wef_fieldset\'>\r\n" +
"				<table class=\'wef_table\'>\r\n" +
"					<!-- part of -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P361\' data-datatype=\'wikibase-item\'>\r\n" +
"						<!-- stated as -->\r\n" +
"						<tr class=\'wef_claim_editors\' data-code=\'P1932\' data-datatype=\'string\' />\r\n" +
"						<!-- volume -->\r\n" +
"						<tr class=\'wef_claim_editors\' data-code=\'P478\' data-datatype=\'string\' />\r\n" +
"					</tbody>\r\n" +
"					<!-- volume -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P478\' data-datatype=\'string\' />\r\n" +
"					<!-- issue -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P433\' data-datatype=\'string\' />\r\n" +
"					<!-- total pages -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P1104\' data-datatype=\'quantity\' />\r\n" +
"				</table>\r\n" +
"			</fieldset>\r\n" +
"			<fieldset class=\'wef_fieldset\'>\r\n" +
"				<table class=\'wef_table \'>\r\n" +
"					<!-- URL -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P953\' data-datatype=\'url\'>\r\n" +
"						<!-- check date -->\r\n" +
"						<tr class=\'wef_claim_editors\' data-code=\'P813\' data-datatype=\'time\' />\r\n" +
"						<!-- archive URL -->\r\n" +
"						<tr class=\'wef_claim_editors\' data-code=\'P1065\' data-datatype=\'url\' />\r\n" +
"					</tbody>\r\n" +
"					<!-- scan file -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P996\' data-datatype=\'commonsMedia\' />\r\n" +
"					<!-- Wikisource index page -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P1957\' data-datatype=\'url\' />\r\n" +
"				</table>\r\n" +
"			</fieldset>\r\n" +
"		</div>\r\n" +
"		<div id=\'wef_sourceBookEditor_tab_codes\' class=\'wef_editor_tab\'>\r\n" +
"			<fieldset class=\'wef_fieldset\'>\r\n" +
"				<table class=\'wef_table\'>\r\n" +
"					<!-- DOI -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P356\' data-datatype=\'string\' data-template=\'https://dx.doi.org/$1\' />\r\n" +
"					<!-- ISBN 10 -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P957\' data-datatype=\'string\' />\r\n" +
"					<!-- ISBN 13 -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P212\' data-datatype=\'string\' />\r\n" +
"					<!-- ISSN -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P236\' data-datatype=\'string\' />\r\n" +
"				</table>\r\n" +
"			</fieldset>\r\n" +
"			<fieldset class=\'wef_fieldset\'>\r\n" +
"				<table class=\'wef_table\'>\r\n" +
"					<!-- OCLC control number -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P243\' data-datatype=\'string\'\r\n" +
"						data-template=\'https://www.worldcat.org/oclc/$1?lang=\' />\r\n" +
"					<!-- Open Library identifier -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P648\' data-datatype=\'string\'\r\n" +
"						data-template=\'https://openlibrary.org/works/$1\' />\r\n" +
"					<!-- Google Books identifier -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P675\' data-datatype=\'string\'\r\n" +
"						data-template=\'http://books.google.com/books?id=$1\' />\r\n" +
"					<!-- Internet Archive identifier -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P724\' data-datatype=\'string\'\r\n" +
"						data-template=\'https://archive.org/details/$1\' />\r\n" +
"				</table>\r\n" +
"			</fieldset>\r\n" +
"			<fieldset class=\'wef_fieldset\'>\r\n" +
"				<table class=\'wef_table\'>\r\n" +
"					<!-- BN (Argentine) editions -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P1143\' data-datatype=\'string\' data-flag=\'ar\'\r\n" +
"						data-template=\'http://catalogo.bn.gov.ar/F/?func=find-b&request=$1&find_code=SYS\' />\r\n" +
"					<!-- SWB editions -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P1044\' data-datatype=\'string\' data-flag=\'de\'\r\n" +
"						data-template=\'http://swb.bsz-bw.de/DB=2.1/PPNSET?PPN=$1&INDEXSET=1\' />\r\n" +
"					<!-- DNB editions -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P1292\' data-datatype=\'string\' data-flag=\'de\'\r\n" +
"						data-template=\'http://d-nb.info/$1\' />\r\n" +
"					<!-- SUDOC editions -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P1025\' data-datatype=\'string\' data-flag=\'fr\'\r\n" +
"						data-template=\'http://www.sudoc.fr/$1\' />\r\n" +
"					<!-- EUL editions -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P1084\' data-datatype=\'string\' data-flag=\'eg\'\r\n" +
"						data-template=\'http://srv3.eulc.edu.eg/eulc_v5/libraries/Start.aspx?fn=ApplySearch&BibID=$1\' />\r\n" +
"					<!-- RSL scanned book\'s identifier -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P1815\' data-datatype=\'string\' data-flag=\'ru\'\r\n" +
"						data-template=\'http://dlib.rsl.ru/viewer/$1\' />\r\n" +
"					<!-- LIBRIS editions -->\r\n" +
"					<tbody class=\'wef_claim_editors\' data-code=\'P1182\' data-datatype=\'string\' data-flag=\'se\'\r\n" +
"						data-template=\'http://libris.kb.se/bib/$1\' />\r\n" +
"				</table>\r\n" +
"			</fieldset>\r\n" +
"		</div>\r\n" +
"	</div>\r\n" +
"</div>";

window.wef_SourceBookEditor_i18n_en = {
	dialogTitle: 'Book — WE-Framework',
	statusLoadingModuleData: 'Loading local description data',

	menuButton: 'WEF: Book',
};

window.wef_SourceBookEditor_i18n_ru = {
	dialogTitle: 'Книга — WE-Framework',
	statusLoadingModuleData: 'Загрузка локальных данных описания',

	menuButton: 'WEF: Книга',
};


var editor = new WEF_Editor( wef_SourceBookEditor_html );
editor.definitionEnhanceCallback =
/**
 * @type WEF_Definition
 */
function( definition ) {
	// ISBN 10
	if ( definition.code === 'P957' ) {
		definition.buttons = [ {
			icons: {
				primary: 'ui-icon-transfer-e-w'
			},
			text: false,
			label: 'hyphenate',
			click: function( claimEditor ) {
				var str = claimEditor.getStringValue();
				if ( !WEF_Utils.isEmpty( str ) ) {
					var parsed = window.ISBN.parse( str.replace( '-', '' ).replace( ' ', '' ) );
					if ( parsed ) {
						claimEditor.setStringValue( parsed.asIsbn10( true ) );
					}
				}
			},
		} ];
	}
	// ISBN 13
	if ( definition.code === 'P212' ) {
		definition.buttons = [ {
			icons: {
				primary: 'ui-icon-transfer-e-w'
			},
			text: false,
			label: 'hyphenate',
			click: function( claimEditor ) {
				var str = claimEditor.getStringValue();
				if ( !WEF_Utils.isEmpty( str ) ) {
					var parsed = window.ISBN.parse( str.replace( '-', '' ).replace( ' ', '' ) );
					if ( parsed ) {
						claimEditor.setStringValue( parsed.asIsbn13( true ) );
					}
				}
			},
		} ];
	}
};
editor.localize( 'wef_SourceBookEditor_i18n_' );
editor.addEditButtons( 'Q3331189' );

window.wef_editors_registry.registerEditor( 'Q571', editor );
window.wef_editors_registry.registerEditor( 'Q3331189', editor );
